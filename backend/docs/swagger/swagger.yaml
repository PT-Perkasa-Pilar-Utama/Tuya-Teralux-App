basePath: /
definitions:
  controllers.SendEmailRequest:
    properties:
      body:
        type: string
      subject:
        type: string
      template:
        type: string
      to:
        items:
          type: string
        type: array
    required:
    - subject
    - to
    type: object
  dtos.ActionDTO:
    properties:
      code:
        type: string
      device_id:
        type: string
      remote_id:
        type: string
      topic:
        type: string
      value: {}
    type: object
  dtos.AsyncTranscriptionProcessStatusResponseDTO:
    properties:
      task_id:
        type: string
      task_status:
        $ref: '#/definitions/dtos.AsyncTranscriptionStatusDTO'
    type: object
  dtos.AsyncTranscriptionResultDTO:
    properties:
      detected_language:
        example: id
        type: string
      refined_text:
        example: Hello world
        type: string
      transcription:
        example: Halo dunia
        type: string
    type: object
  dtos.AsyncTranscriptionStatusDTO:
    properties:
      expires_at:
        type: string
      expires_in_seconds:
        type: integer
      result:
        $ref: '#/definitions/dtos.AsyncTranscriptionResultDTO'
      status:
        example: completed
        type: string
    type: object
  dtos.CreateSceneRequestDTO:
    properties:
      actions:
        items:
          $ref: '#/definitions/dtos.ActionDTO'
        type: array
      name:
        type: string
    required:
    - name
    type: object
  dtos.RAGChatRequestDTO:
    properties:
      language:
        example: id
        type: string
      prompt:
        example: Nyalakan AC
        type: string
      teralux_id:
        example: tx-1
        type: string
      uid:
        example: sg1765...
        type: string
    required:
    - prompt
    - teralux_id
    type: object
  dtos.RAGControlRequestDTO:
    properties:
      prompt:
        example: Nyalakan AC
        type: string
      teralux_id:
        example: tx-1
        type: string
    required:
    - prompt
    - teralux_id
    type: object
  dtos.RAGRequestDTO:
    properties:
      language:
        type: string
      text:
        type: string
    required:
    - text
    type: object
  dtos.RAGStatusDTO:
    properties:
      body: {}
      endpoint:
        type: string
      execution_result:
        description: holds the response from the fetched endpoint
      expires_at:
        type: string
      expires_in_seconds:
        type: integer
      headers:
        additionalProperties:
          type: string
        type: object
      method:
        type: string
      result:
        description: raw LLM response when not structured
        type: string
      status:
        type: string
    type: object
  dtos.RAGSummaryRequestDTO:
    properties:
      context:
        example: technical meeting
        type: string
      language:
        description: '"id" or "en"'
        example: id
        type: string
      style:
        example: professional
        type: string
      text:
        example: This is a long transcript of a technical meeting...
        type: string
    required:
    - text
    type: object
  dtos.SceneListResponseDTO:
    properties:
      id:
        type: string
      name:
        type: string
      teralux_id:
        type: string
    type: object
  dtos.SensorDataDTO:
    properties:
      battery_percentage:
        type: integer
      humidity:
        type: integer
      status_text:
        type: string
      temp_unit:
        type: string
      temperature:
        type: number
    type: object
  dtos.TranscriptionTaskResponseDTO:
    properties:
      recording_id:
        example: uuid-v4
        type: string
      task_id:
        example: abc-123
        type: string
      task_status:
        example: pending
        type: string
    type: object
  dtos.TuyaAuthResponseDTO:
    properties:
      access_token:
        type: string
      expire_time:
        type: integer
      refresh_token:
        type: string
      uid:
        type: string
    type: object
  dtos.TuyaDeviceDTO:
    properties:
      category:
        type: string
      collections:
        items:
          $ref: '#/definitions/dtos.TuyaDeviceDTO'
        type: array
      create_time:
        type: integer
      custom_name:
        type: string
      gateway_id:
        type: string
      icon:
        type: string
      id:
        type: string
      ip:
        type: string
      local_key:
        type: string
      model:
        type: string
      name:
        type: string
      online:
        type: boolean
      product_name:
        type: string
      remote_category:
        type: string
      remote_id:
        type: string
      remote_product_name:
        type: string
      status:
        items:
          $ref: '#/definitions/dtos.TuyaDeviceStatusDTO'
        type: array
      update_time:
        type: integer
    type: object
  dtos.TuyaDeviceResponseDTO:
    properties:
      device:
        $ref: '#/definitions/dtos.TuyaDeviceDTO'
    type: object
  dtos.TuyaDeviceStatusDTO:
    properties:
      code:
        type: string
      value: {}
    type: object
  dtos.TuyaDevicesResponseDTO:
    properties:
      current_page_count:
        type: integer
      devices:
        items:
          $ref: '#/definitions/dtos.TuyaDeviceDTO'
        type: array
      page:
        type: integer
      per_page:
        type: integer
      total:
        type: integer
      total_devices:
        type: integer
    type: object
  dtos.TuyaSyncDeviceDTO:
    properties:
      create_time:
        type: integer
      id:
        type: string
      online:
        type: boolean
      remote_id:
        type: string
      update_time:
        type: integer
    type: object
  dtos.UpdateSceneRequestDTO:
    properties:
      actions:
        items:
          $ref: '#/definitions/dtos.ActionDTO'
        type: array
      name:
        type: string
    required:
    - name
    type: object
  recordings_dtos.GetAllRecordingsResponseDto:
    properties:
      limit:
        type: integer
      page:
        type: integer
      recordings:
        items:
          $ref: '#/definitions/recordings_dtos.RecordingResponseDto'
        type: array
      total:
        type: integer
    type: object
  recordings_dtos.RecordingResponseDto:
    properties:
      audio_url:
        type: string
      created_at:
        type: string
      filename:
        type: string
      id:
        type: string
      original_name:
        type: string
    type: object
  recordings_dtos.StandardResponse:
    properties:
      data: {}
      details:
        description: |-
          Details is only populated for 400 (Bad Request) and 422 (Unprocessable Entity) errors.
          For all other status codes, including 500, this field is nil/omitted.
      message:
        example: Success
        type: string
      status:
        example: true
        type: boolean
    type: object
  teralux_app_domain_common_dtos.StandardResponse:
    properties:
      data: {}
      details:
        description: |-
          Details is only populated for 400 (Bad Request) and 422 (Unprocessable Entity) errors.
          For all other status codes, including 500, this field is nil/omitted.
      message:
        example: Success
        type: string
      status:
        example: true
        type: boolean
    type: object
  teralux_app_domain_rag_dtos.StandardResponse:
    properties:
      data: {}
      details: {}
      message:
        type: string
      status:
        type: boolean
    type: object
  teralux_app_domain_speech_dtos.StandardResponse:
    properties:
      data: {}
      details: {}
      message:
        type: string
      status:
        type: boolean
    type: object
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: This is the API server for Sensio App. <br> For full documentation,
    visit <a href="/docs">/docs</a>.
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: Sensio API
  version: "1.0"
paths:
  /api/cache/flush:
    delete:
      consumes:
      - application/json
      description: Remove all data from the cache storage
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Flush all cache
      tags:
      - 07. Common
  /api/email/send:
    post:
      consumes:
      - application/json
      description: Send an email using a template or raw body
      parameters:
      - description: Email Request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/controllers.SendEmailRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Send an email
      tags:
      - 07. Common
  /api/health:
    get:
      description: Check if the application and database are healthy
      produces:
      - text/plain
      responses:
        "200":
          description: OK
          schema:
            type: string
        "503":
          description: Service Unavailable
          schema:
            type: string
      summary: Health check endpoint
      tags:
      - 07. Common
  /api/rag/{task_id}:
    get:
      parameters:
      - description: Task ID
        in: path
        name: task_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_rag_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.RAGStatusDTO'
              type: object
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/teralux_app_domain_rag_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Get RAG task status
      tags:
      - 05. RAG
  /api/rag/chat:
    post:
      consumes:
      - application/json
      description: Classifies user prompt into Chat or Control and returns appropriate
        response or redirection.
      parameters:
      - description: Chat Request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dtos.RAGChatRequestDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/teralux_app_domain_rag_dtos.StandardResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/teralux_app_domain_rag_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_rag_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: AI Assistant Chat
      tags:
      - 05. RAG
  /api/rag/control:
    post:
      consumes:
      - application/json
      description: Processes natural language device control commands.
      parameters:
      - description: Control Request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dtos.RAGControlRequestDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/teralux_app_domain_rag_dtos.StandardResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/teralux_app_domain_rag_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_rag_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: AI Assistant Control
      tags:
      - 05. RAG
  /api/rag/summary:
    post:
      consumes:
      - application/json
      description: Generate meeting minutes summary asynchronously. Returns a Task
        ID for polling.
      parameters:
      - description: Summary request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dtos.RAGSummaryRequestDTO'
      produces:
      - application/json
      responses:
        "202":
          description: Accepted
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_rag_dtos.StandardResponse'
            - properties:
                data:
                  additionalProperties:
                    type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/teralux_app_domain_rag_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_rag_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Generate meeting minutes summary
      tags:
      - 05. RAG
  /api/rag/translate:
    post:
      consumes:
      - application/json
      description: Translate text to a target language asynchronously. Returns a Task
        ID for polling.
      parameters:
      - description: Translation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dtos.RAGRequestDTO'
      produces:
      - application/json
      responses:
        "202":
          description: Accepted
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_rag_dtos.StandardResponse'
            - properties:
                data:
                  additionalProperties:
                    type: string
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/teralux_app_domain_rag_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_rag_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Translate text to specified language
      tags:
      - 05. RAG
  /api/recordings:
    get:
      description: Get a paginated list of all recordings.
      parameters:
      - description: Page number (default 1)
        in: query
        name: page
        type: integer
      - description: Items per page (default 10)
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/recordings_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/recordings_dtos.GetAllRecordingsResponseDto'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/recordings_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/recordings_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: List all recordings
      tags:
      - 06. Recordings
    post:
      consumes:
      - multipart/form-data
      description: Upload an audio file and save its metadata.
      parameters:
      - description: Audio file
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            allOf:
            - $ref: '#/definitions/recordings_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/recordings_dtos.RecordingResponseDto'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/recordings_dtos.StandardResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/recordings_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/recordings_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Save a new recording
      tags:
      - 06. Recordings
  /api/recordings/{id}:
    delete:
      description: Remove a recording and its associated file from the system.
      parameters:
      - description: Recording ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/recordings_dtos.StandardResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/recordings_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/recordings_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Delete a recording
      tags:
      - 06. Recordings
    get:
      description: Retrieve metadata for a specific recording.
      parameters:
      - description: Recording ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/recordings_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/recordings_dtos.RecordingResponseDto'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/recordings_dtos.StandardResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/recordings_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/recordings_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Get recording by ID
      tags:
      - 06. Recordings
  /api/speech/transcribe:
    post:
      consumes:
      - multipart/form-data
      description: 'Start transcription of audio file using local Whisper STT. Asynchronous
        processing. Supports: .mp3, .wav, .m4a, .aac, .ogg, .flac.'
      parameters:
      - description: Audio file (.mp3, .wav, .m4a, .aac, .ogg, .flac)
        in: formData
        name: audio
        required: true
        type: file
      - description: Language code (e.g. id, en)
        in: formData
        name: language
        type: string
      produces:
      - application/json
      responses:
        "202":
          description: Accepted
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_speech_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.TranscriptionTaskResponseDTO'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/teralux_app_domain_speech_dtos.StandardResponse'
        "413":
          description: Request Entity Too Large
          schema:
            $ref: '#/definitions/teralux_app_domain_speech_dtos.StandardResponse'
        "415":
          description: Unsupported Media Type
          schema:
            $ref: '#/definitions/teralux_app_domain_speech_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_speech_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Transcribe audio file (Whisper)
      tags:
      - 04. Speech
  /api/speech/transcribe/{transcribe_id}:
    get:
      description: Get the status and result of any transcription task (Short, Long,
        or Orion).
      parameters:
      - description: Task ID
        in: path
        name: transcribe_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_speech_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.AsyncTranscriptionProcessStatusResponseDTO'
              type: object
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/teralux_app_domain_speech_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_speech_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Get transcription status (Consolidated)
      tags:
      - 04. Speech
  /api/speech/transcribe/orion:
    post:
      consumes:
      - multipart/form-data
      description: Submit audio file for transcription via Outsystems proxy. Processing
        is asynchronous.
      parameters:
      - description: Audio file (.mp3, .wav, .m4a, .aac, .ogg, .flac)
        in: formData
        name: audio
        required: true
        type: file
      - description: Language code (e.g. id, en)
        in: formData
        name: language
        type: string
      produces:
      - application/json
      responses:
        "202":
          description: Accepted
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_speech_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.TranscriptionTaskResponseDTO'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/teralux_app_domain_speech_dtos.StandardResponse'
        "413":
          description: Request Entity Too Large
          schema:
            $ref: '#/definitions/teralux_app_domain_speech_dtos.StandardResponse'
        "415":
          description: Unsupported Media Type
          schema:
            $ref: '#/definitions/teralux_app_domain_speech_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_speech_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Transcribe audio file (Proxy to Outsystems)
      tags:
      - 04. Speech
  /api/speech/transcribe/whisper/cpp:
    post:
      consumes:
      - multipart/form-data
      description: 'Start transcription of audio file using Whisper.cpp. Asynchronous
        processing with background execution. Pure Whisper.cpp, no Orion. Supports:
        .mp3, .wav, .m4a, .aac, .ogg, .flac.'
      parameters:
      - description: Audio file (.mp3, .wav, .m4a, .aac, .ogg, .flac)
        in: formData
        name: audio
        required: true
        type: file
      - description: Language code (e.g. id, en)
        in: formData
        name: language
        required: true
        type: string
      produces:
      - application/json
      responses:
        "202":
          description: Accepted
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_speech_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.TranscriptionTaskResponseDTO'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/teralux_app_domain_speech_dtos.StandardResponse'
        "413":
          description: Request Entity Too Large
          schema:
            $ref: '#/definitions/teralux_app_domain_speech_dtos.StandardResponse'
        "415":
          description: Unsupported Media Type
          schema:
            $ref: '#/definitions/teralux_app_domain_speech_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_speech_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Transcribe audio file (Whisper.cpp)
      tags:
      - 04. Speech
  /api/teralux/{id}/scenes:
    get:
      description: Retrieve a list of all configured scenes for a specific Teralux
        device
      parameters:
      - description: Teralux UUID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of scenes
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/dtos.SceneListResponseDTO'
                  type: array
              type: object
      security:
      - BearerAuth: []
      summary: List all scenes for a Teralux device
      tags:
      - 03. Scenes
    post:
      consumes:
      - application/json
      description: Create a scene with a name and a list of actions (Tuya/MQTT)
      parameters:
      - description: Teralux UUID
        in: path
        name: id
        required: true
        type: string
      - description: Scene configuration
        in: body
        name: scene
        required: true
        schema:
          $ref: '#/definitions/dtos.CreateSceneRequestDTO'
      produces:
      - application/json
      responses:
        "201":
          description: Scene created
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Create a new scene
      tags:
      - 03. Scenes
  /api/teralux/{id}/scenes/{scene_id}:
    delete:
      description: Remove a specific scene configuration
      parameters:
      - description: Teralux UUID
        in: path
        name: id
        required: true
        type: string
      - description: Scene UUID
        in: path
        name: scene_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Scene deleted
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Delete a scene
      tags:
      - 03. Scenes
    put:
      consumes:
      - application/json
      description: Update the configuration of a specific scene
      parameters:
      - description: Teralux UUID
        in: path
        name: id
        required: true
        type: string
      - description: Scene UUID
        in: path
        name: scene_id
        required: true
        type: string
      - description: Updated scene configuration
        in: body
        name: scene
        required: true
        schema:
          $ref: '#/definitions/dtos.UpdateSceneRequestDTO'
      produces:
      - application/json
      responses:
        "200":
          description: Scene updated
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "404":
          description: Scene not found
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Update an existing scene
      tags:
      - 03. Scenes
  /api/teralux/{id}/scenes/{scene_id}/control:
    get:
      description: Trigger all actions defined in a specific scene
      parameters:
      - description: Teralux UUID
        in: path
        name: id
        required: true
        type: string
      - description: Scene UUID
        in: path
        name: scene_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Scene applied
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Apply/Trigger a scene
      tags:
      - 03. Scenes
  /api/tuya/auth:
    get:
      consumes:
      - application/json
      description: Authenticates the user and retrieves a Tuya access token
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.TuyaAuthResponseDTO'
              type: object
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - ApiKeyAuth: []
      summary: Authenticate with Tuya
      tags:
      - 01. Auth
  /api/tuya/devices:
    get:
      consumes:
      - application/json
      description: Retrieves a list of all devices in a Merged View (Smart IR remotes
        merged with Hubs). Sorted alphabetically by Name. For infrared_ac devices,
        the status array is populated with saved device state (power, temp, mode,
        wind) or default values if no state exists.
      parameters:
      - description: Page number
        in: query
        name: page
        type: integer
      - description: Items per page
        in: query
        name: limit
        type: integer
      - description: Items per page (alias for limit)
        in: query
        name: per_page
        type: integer
      - description: Filter by category
        in: query
        name: category
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.TuyaDevicesResponseDTO'
              type: object
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Get All Devices
      tags:
      - 02. Tuya
  /api/tuya/devices/{id}:
    get:
      consumes:
      - application/json
      description: Retrieves details of a specific device by its ID
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.TuyaDeviceResponseDTO'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Get Device by ID
      tags:
      - 02. Tuya
  /api/tuya/devices/{id}/sensor:
    get:
      consumes:
      - application/json
      description: Retrieves sensor data (temperature, humidity, etc.) for a specific
        device
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.SensorDataDTO'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Get Sensor Data
      tags:
      - 02. Tuya
  /api/tuya/devices/sync:
    get:
      consumes:
      - application/json
      description: Fetches real-time status from Tuya. Does NOT update local DB. Returns
        fresh device list.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/dtos.TuyaSyncDeviceDTO'
                  type: array
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - ApiKeyAuth: []
      - BearerAuth: []
      summary: Sync Teralux Device Status
      tags:
      - 02. Tuya
schemes:
- http
- https
securityDefinitions:
  ApiKeyAuth:
    in: header
    name: X-API-KEY
    type: apiKey
  BearerAuth:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
tags:
- description: Authentication endpoints
  name: 01. Auth
- description: Tuya related endpoints
  name: 02. Tuya
- description: Scene management and control endpoints
  name: 03. Scenes
- description: Speech endpoints
  name: 04. Speech
- description: RAG endpoints
  name: 05. RAG
- description: Recordings management endpoints
  name: 06. Recordings
- description: Common endpoints (Email, Health, Cache)
  name: 07. Common
