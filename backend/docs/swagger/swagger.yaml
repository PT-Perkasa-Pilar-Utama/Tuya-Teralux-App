basePath: /
definitions:
  dtos.CreateDeviceRequestDTO:
    properties:
      id:
        type: string
      name:
        type: string
      teralux_id:
        type: string
    required:
    - id
    - name
    - teralux_id
    type: object
  dtos.CreateDeviceResponseDTO:
    properties:
      device_id:
        type: string
    type: object
  dtos.CreateTeraluxRequestDTO:
    properties:
      mac_address:
        type: string
      name:
        type: string
      room_id:
        type: string
    required:
    - mac_address
    - name
    - room_id
    type: object
  dtos.CreateTeraluxResponseDTO:
    properties:
      teralux_id:
        type: string
    type: object
  dtos.DeviceListResponseDTO:
    properties:
      devices:
        items:
          $ref: '#/definitions/dtos.DeviceResponseDTO'
        type: array
      page:
        type: integer
      per_page:
        type: integer
      total:
        type: integer
    type: object
  dtos.DeviceResponseDTO:
    properties:
      category:
        type: string
      collections:
        type: string
      create_time:
        type: integer
      created_at:
        type: string
      custom_name:
        type: string
      gateway_id:
        type: string
      icon:
        type: string
      id:
        type: string
      ip:
        type: string
      local_key:
        type: string
      model:
        type: string
      name:
        type: string
      product_name:
        type: string
      remote_category:
        type: string
      remote_id:
        type: string
      remote_product_name:
        type: string
      teralux_id:
        type: string
      update_time:
        type: integer
      updated_at:
        type: string
    type: object
  dtos.DeviceSingleResponseDTO:
    properties:
      device:
        $ref: '#/definitions/dtos.DeviceResponseDTO'
    type: object
  dtos.DeviceStatusListResponseDTO:
    properties:
      device_statuses:
        items:
          $ref: '#/definitions/dtos.DeviceStatusResponseDTO'
        type: array
      page:
        type: integer
      per_page:
        type: integer
      total:
        type: integer
    type: object
  dtos.DeviceStatusResponseDTO:
    properties:
      code:
        type: string
      created_at:
        type: string
      device_id:
        type: string
      updated_at:
        type: string
      value:
        type: string
    type: object
  dtos.DeviceStatusSingleResponseDTO:
    properties:
      device_status:
        $ref: '#/definitions/dtos.DeviceStatusResponseDTO'
    type: object
  dtos.RAGRequestDTO:
    properties:
      text:
        type: string
    type: object
  dtos.SensorDataDTO:
    properties:
      battery_percentage:
        type: integer
      humidity:
        type: integer
      status_text:
        type: string
      temp_unit:
        type: string
      temperature:
        type: number
    type: object
  dtos.TeraluxListResponseDTO:
    properties:
      page:
        type: integer
      per_page:
        type: integer
      teralux:
        items:
          $ref: '#/definitions/dtos.TeraluxResponseDTO'
        type: array
      total:
        type: integer
    type: object
  dtos.TeraluxResponseDTO:
    properties:
      created_at:
        type: string
      id:
        type: string
      mac_address:
        type: string
      name:
        type: string
      room_id:
        type: string
      updated_at:
        type: string
    type: object
  dtos.TeraluxSingleResponseDTO:
    properties:
      teralux:
        $ref: '#/definitions/dtos.TeraluxResponseDTO'
    type: object
  dtos.TuyaAuthResponseDTO:
    properties:
      access_token:
        type: string
      expire_time:
        type: integer
      refresh_token:
        type: string
      uid:
        type: string
    type: object
  dtos.TuyaCommandDTO:
    properties:
      code:
        type: string
      value: {}
    required:
    - code
    - value
    type: object
  dtos.TuyaDeviceDTO:
    properties:
      category:
        type: string
      collections:
        items:
          $ref: '#/definitions/dtos.TuyaDeviceDTO'
        type: array
      create_time:
        type: integer
      custom_name:
        type: string
      gateway_id:
        type: string
      icon:
        type: string
      id:
        type: string
      ip:
        type: string
      local_key:
        type: string
      model:
        type: string
      name:
        type: string
      online:
        type: boolean
      product_name:
        type: string
      remote_category:
        type: string
      remote_id:
        type: string
      remote_product_name:
        type: string
      status:
        items:
          $ref: '#/definitions/dtos.TuyaDeviceStatusDTO'
        type: array
      update_time:
        type: integer
    type: object
  dtos.TuyaDeviceResponseDTO:
    properties:
      device:
        $ref: '#/definitions/dtos.TuyaDeviceDTO'
    type: object
  dtos.TuyaDeviceStatusDTO:
    properties:
      code:
        type: string
      value: {}
    type: object
  dtos.TuyaDevicesResponseDTO:
    properties:
      current_page_count:
        type: integer
      devices:
        items:
          $ref: '#/definitions/dtos.TuyaDeviceDTO'
        type: array
      page:
        type: integer
      per_page:
        type: integer
      total:
        type: integer
      total_devices:
        type: integer
    type: object
  dtos.TuyaIRACCommandDTO:
    properties:
      code:
        type: string
      remote_id:
        type: string
      value:
        type: integer
    required:
    - code
    - remote_id
    type: object
  dtos.TuyaSyncDeviceDTO:
    properties:
      create_time:
        type: integer
      id:
        type: string
      online:
        type: boolean
      remote_id:
        type: string
      update_time:
        type: integer
    type: object
  dtos.UpdateDeviceRequestDTO:
    properties:
      name:
        type: string
    type: object
  dtos.UpdateDeviceStatusRequestDTO:
    properties:
      code:
        type: string
      remote_id:
        description: Optional, for IR devices
        type: string
      value: {}
    required:
    - code
    type: object
  dtos.UpdateTeraluxRequestDTO:
    properties:
      mac_address:
        type: string
      name:
        type: string
      room_id:
        type: string
    type: object
  teralux_app_domain_common_dtos.StandardResponse:
    properties:
      data: {}
      details: {}
      message:
        type: string
      status:
        type: boolean
    type: object
  teralux_app_domain_rag_dtos.StandardResponse:
    properties:
      data: {}
      details:
        type: string
      message:
        type: string
      status:
        type: boolean
    type: object
host: localhost:8080
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: This is the API server for Teralux App. <br> For full documentation,
    visit <a href="/docs">/docs</a>.
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: Teralux API
  version: "1.0"
paths:
  /api/cache/flush:
    delete:
      consumes:
      - application/json
      description: Remove all data from the cache storage
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Flush all cache
      tags:
      - 06. Flush
  /api/devices:
    get:
      consumes:
      - application/json
      description: Retrieves all devices
      parameters:
      - description: Filter by Teralux ID
        in: query
        name: teralux_id
        type: string
      - description: Page number
        in: query
        name: page
        type: integer
      - description: Items per page
        in: query
        name: limit
        type: integer
      - description: Items per page (alias for limit)
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.DeviceListResponseDTO'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Get All Devices
      tags:
      - 04. Devices
    post:
      consumes:
      - application/json
      description: Creates a new device under a teralux unit
      parameters:
      - description: Create Device Request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dtos.CreateDeviceRequestDTO'
      produces:
      - application/json
      responses:
        "201":
          description: Device created successfully
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.CreateDeviceResponseDTO'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "409":
          description: Device already exists
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "422":
          description: Validation Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Create Device
      tags:
      - 04. Devices
  /api/devices/{id}:
    delete:
      consumes:
      - application/json
      description: Deletes a device
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "404":
          description: Device not found
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Delete Device
      tags:
      - 04. Devices
    get:
      consumes:
      - application/json
      description: Retrieves a single device by ID
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.DeviceSingleResponseDTO'
              type: object
        "400":
          description: Invalid ID format
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "404":
          description: Device not found
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Get Device by ID
      tags:
      - 04. Devices
    put:
      consumes:
      - application/json
      description: Updates an existing device
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      - description: Update Device Request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dtos.UpdateDeviceRequestDTO'
      produces:
      - application/json
      responses:
        "200":
          description: Successfully updated
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "404":
          description: Device not found
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "422":
          description: Validation Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Update Device
      tags:
      - 04. Devices
  /api/devices/{id}/status:
    put:
      consumes:
      - application/json
      description: Updates an existing device status
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      - description: Update Device Status Request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dtos.UpdateDeviceStatusRequestDTO'
      produces:
      - application/json
      responses:
        "200":
          description: Successfully updated
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "404":
          description: Device not found
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "422":
          description: Validation Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Update Device Status
      tags:
      - 05. Device Statuses
  /api/devices/{id}/statuses:
    get:
      description: Retrieves all statuses for a specific device
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      - description: Page number
        in: query
        name: page
        type: integer
      - description: Items per page
        in: query
        name: limit
        type: integer
      - description: Items per page (alias for limit)
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.DeviceStatusListResponseDTO'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "404":
          description: Device not found
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Get Device Statuses by Device ID
      tags:
      - 05. Device Statuses
  /api/devices/{id}/statuses/{code}:
    get:
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      - description: Status Code
        in: path
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.DeviceStatusSingleResponseDTO'
              type: object
        "400":
          description: 'Validation Error: id is required'
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "404":
          description: Status code not found for this device
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Get Device Status by Code
      tags:
      - 05. Device Statuses
  /api/devices/statuses:
    get:
      consumes:
      - application/json
      description: Retrieves all device statuses
      parameters:
      - description: Page number
        in: query
        name: page
        type: integer
      - description: Items per page
        in: query
        name: limit
        type: integer
      - description: Items per page (alias for limit)
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.DeviceStatusListResponseDTO'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Get All Device Statuses
      tags:
      - 05. Device Statuses
  /api/devices/teralux/{teralux_id}:
    get:
      consumes:
      - application/json
      description: Retrieves all devices linked to a specific teralux ID
      parameters:
      - description: Teralux ID
        in: path
        name: teralux_id
        required: true
        type: string
      - description: Page number
        in: query
        name: page
        type: integer
      - description: Items per page
        in: query
        name: limit
        type: integer
      - description: Items per page (alias for limit)
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Returns list of devices
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.DeviceListResponseDTO'
              type: object
        "400":
          description: Invalid Teralux ID format
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "404":
          description: Teralux hub not found
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Get Devices by Teralux ID
      tags:
      - 04. Devices
  /api/teralux:
    get:
      consumes:
      - application/json
      description: Retrieves a list of all teralux devices
      parameters:
      - description: Page number
        in: query
        name: page
        type: integer
      - description: Items per page
        in: query
        name: limit
        type: integer
      - description: Items per page (alias for limit)
        in: query
        name: per_page
        type: integer
      - description: Filter by Room ID
        in: query
        name: room_id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.TeraluxListResponseDTO'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Get All Teralux
      tags:
      - 03. Teralux
    post:
      consumes:
      - application/json
      description: Creates a new teralux device
      parameters:
      - description: Create Teralux Request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dtos.CreateTeraluxRequestDTO'
      produces:
      - application/json
      responses:
        "200":
          description: 'Idempotent: record already exists'
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.CreateTeraluxResponseDTO'
              type: object
        "201":
          description: New record created
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.CreateTeraluxResponseDTO'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "422":
          description: Validation Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Create Teralux
      tags:
      - 03. Teralux
  /api/teralux/{id}:
    delete:
      consumes:
      - application/json
      description: Soft deletes a teralux device by ID
      parameters:
      - description: Teralux ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Successfully deleted
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "400":
          description: Invalid ID format
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "404":
          description: Teralux not found
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Delete Teralux
      tags:
      - 03. Teralux
    get:
      consumes:
      - application/json
      description: Retrieves a single teralux device by ID
      parameters:
      - description: Teralux ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Returns teralux with room_id and devices array
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.TeraluxSingleResponseDTO'
              type: object
        "400":
          description: Invalid ID format
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "404":
          description: Teralux not found
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Get Teralux by ID
      tags:
      - 03. Teralux
    put:
      consumes:
      - application/json
      description: Updates an existing teralux device
      parameters:
      - description: Teralux ID
        in: path
        name: id
        required: true
        type: string
      - description: Update Teralux Request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dtos.UpdateTeraluxRequestDTO'
      produces:
      - application/json
      responses:
        "200":
          description: Successfully updated
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "404":
          description: Record not found
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "409":
          description: 'Conflict: Mac Address already in use'
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "422":
          description: Validation Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Update Teralux
      tags:
      - 03. Teralux
  /api/teralux/mac/{mac}:
    get:
      consumes:
      - application/json
      description: Retrieves a teralux device by its MAC address
      parameters:
      - description: MAC Address
        in: path
        name: mac
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.TeraluxSingleResponseDTO'
              type: object
        "400":
          description: Invalid MAC Address format
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "404":
          description: Teralux not found
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Get Teralux by MAC Address
      tags:
      - 03. Teralux
  /api/tuya/auth:
    get:
      consumes:
      - application/json
      description: Authenticates with Tuya API and retrieves an access token. Requires
        X-API-KEY header (use ApiKeyAuth, not BearerAuth).
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.TuyaAuthResponseDTO'
              type: object
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - ApiKeyAuth: []
      summary: Authenticate with Tuya
      tags:
      - 01. Auth
  /api/tuya/devices:
    get:
      consumes:
      - application/json
      description: Retrieves a list of all devices in a Merged View (Smart IR remotes
        merged with Hubs). Sorted alphabetically by Name. For infrared_ac devices,
        the status array is populated with saved device state (power, temp, mode,
        wind) or default values if no state exists.
      parameters:
      - description: Page number
        in: query
        name: page
        type: integer
      - description: Items per page
        in: query
        name: limit
        type: integer
      - description: Items per page (alias for limit)
        in: query
        name: per_page
        type: integer
      - description: Filter by category
        in: query
        name: category
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.TuyaDevicesResponseDTO'
              type: object
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Get All Devices
      tags:
      - 02. Tuya
  /api/tuya/devices/{id}:
    get:
      consumes:
      - application/json
      description: Retrieves details of a specific device by its ID. Response includes
        last_commands field containing the last control commands sent to the device.
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.TuyaDeviceResponseDTO'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Get Device by ID
      tags:
      - 02. Tuya
  /api/tuya/devices/{id}/commands/ir:
    post:
      consumes:
      - application/json
      description: Sends an infrared command to an AC via a specific IR device
      parameters:
      - description: Infrared Device ID
        in: path
        name: id
        required: true
        type: string
      - description: IR AC Command Payload
        in: body
        name: command
        required: true
        schema:
          $ref: '#/definitions/dtos.TuyaIRACCommandDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Send IR AC Command
      tags:
      - 02. Tuya
  /api/tuya/devices/{id}/commands/switch:
    post:
      consumes:
      - application/json
      description: Sends a command to a specific Tuya device
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      - description: Command Payload
        in: body
        name: command
        required: true
        schema:
          $ref: '#/definitions/dtos.TuyaCommandDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Send Command to Device
      tags:
      - 02. Tuya
  /api/tuya/devices/{id}/sensor:
    get:
      consumes:
      - application/json
      description: Retrieves sensor data (temperature, humidity, etc.) for a specific
        device
      parameters:
      - description: Device ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/dtos.SensorDataDTO'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - BearerAuth: []
      summary: Get Sensor Data
      tags:
      - 02. Tuya
  /api/tuya/devices/sync:
    get:
      consumes:
      - application/json
      description: Fetches real-time status from Tuya. Does NOT update local DB. Returns
        fresh device list.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/dtos.TuyaSyncDeviceDTO'
                  type: array
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_common_dtos.StandardResponse'
      security:
      - ApiKeyAuth: []
      - BearerAuth: []
      summary: Sync Teralux Device Status
      tags:
      - 02. Tuya
  /health:
    get:
      description: Check if the application and database are healthy
      produces:
      - text/plain
      responses:
        "200":
          description: OK
          schema:
            type: string
        "503":
          description: Service Unavailable
          schema:
            type: string
      summary: Health check endpoint
      tags:
      - 07. Health
  /v1/rag:
    post:
      consumes:
      - application/json
      description: Submit text for RAG processing
      parameters:
      - description: RAG request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dtos.RAGRequestDTO'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/teralux_app_domain_rag_dtos.StandardResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/teralux_app_domain_rag_dtos.StandardResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/teralux_app_domain_rag_dtos.StandardResponse'
      summary: Process text via RAG
      tags:
      - rag
  /v1/rag/{task_id}:
    get:
      parameters:
      - description: Task ID
        in: path
        name: task_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/teralux_app_domain_rag_dtos.StandardResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/teralux_app_domain_rag_dtos.StandardResponse'
      summary: Get RAG task status
      tags:
      - rag
securityDefinitions:
  ApiKeyAuth:
    in: header
    name: X-API-KEY
    type: apiKey
  BearerAuth:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
tags:
- description: Authentication endpoints
  name: 01. Auth
- description: Tuya related endpoints
  name: 02. Tuya
- description: Teralux device management endpoints
  name: 03. Teralux
- description: Teralux specific devices endpoints
  name: 04. Devices
- description: Device status management endpoints
  name: 05. Device Statuses
- description: Cache management endpoints
  name: 06. Flush
- description: Health check endpoint
  name: 07. Health
- description: Speech endpoints
  name: 08. Speech
- description: RAG endpoints
  name: 09. RAG
